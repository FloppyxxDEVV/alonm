"use strict";(self.webpackChunkt_recs=self.webpackChunkt_recs||[]).push([["lazyExtensions/vignette-render"],{1078:function(t,e,i){var n=i(5526),o=i(4864),s=i(3707),r=i(9817),a=i(5125),l=i(2360),b=i(8e3),g=i(7766),d=i(4566),c=i(5288),p=i(5461),h=i(2120),m=i(6533),v=i(8113);class u{constructor(t){this.handleLinkRedirect=()=>{this.sendEvent("close"),this._destination&&this._target?(this.sendEvent("redirect"),(0,d.ET)(this._closeButton,this.getClassName("loader")),(0,c.VJ)(this._destination,this._target),this.clearDestination()):this.hide()},this.orientationHandler=()=>{this._eventListenerManager.removeByEventType("resize"),((0,p.KP)("mobile")||(0,p.KP)("touch-device"))&&(x()?(this.sendEvent("landscape"),(0,d.ET)(this._domElement,this.getClassName("landscape"))):(0,d.Yw)(this._domElement,this.getClassName("landscape")),this.smallScreenHandler(),this._eventListenerManager.add(window,"resize",this.orientationHandler))},this.isVisible=!1,this._eventListenerManager=new g.OE,this._options=t,this._domElement=this.createContainer(),this.setCssClasses(),this.createBackgroundContainer(),this.placementContainer=this.createDomElement(),this._closeButton=this.createCloseButton()}cleanUp(){var t;this._eventListenerManager.removeAll(),this.placementContainer=(0,s.i)(),this._domElement=(0,s.i)(),this._closeButton=(0,s.i)(),null===(t=this._imageElement)||void 0===t||t.cleanUp(),this._imageElement=(0,s.i)(),this._options=(0,s.i)(),this.clearDestination()}sendEvent(t,e){this._options[6](t,e)}createContainer(){var t;const e=this._options[5]?[this.getClassName("floating")]:[],i=(0,h.W)(this._options[4],{classList:e});return null===(t=(0,d.nB)(document,"html"))||void 0===t||t.appendChild(i),i}createBackgroundContainer(){const t=(0,h.W)("div",{classList:[this.getClassName("background-container")]}),e=(0,h.W)("div",{classList:[this.getClassName("background-image"),this.getClassName("background")]});this._imageElement=new v.$(this._options[2],e),t.appendChild(e);const i=(0,h.W)("div",{classList:[this.getClassName("background-screen"),this.getClassName("background")]});return t.appendChild(i),this._domElement.appendChild(t),this._eventListenerManager.add(t,"click",this.handleLinkRedirect),t}createCloseButton(){const t=(0,h.W)("div",{classList:[this.getClassName("close-btn-wrp")],attrList:[["role","button"]],content:'<svg aria-label="close" class="tbl-close-btn" width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0 0 0L10 10" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M10 0 10 0L0 10" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n'});return this._domElement.insertAdjacentElement("afterbegin",t),this._eventListenerManager.add(t,"click",this.handleLinkRedirect),t}getClassName(t){return`${this._options[1]}-${t}`}createDomElement(){const t=function(t){const e=(0,b.n$)(t);if(!e)return null;const i=(0,l.Kc)(e);return i?(0,d.uv)(document,`#${i}`):null}(this._options[3])||(0,h.W)("div");return this._domElement.appendChild(t),t}setCssClasses(){(0,d.ET)(this._domElement,m.N,this._options[1])}show(t,e){this.sendEvent("show"),this._destination=t||this._destination,this._target=e||this._target,(0,d.ET)(this._domElement,this.getClassName("show")),this.isVisible=!0;const i=(0,d.nB)(document,"body");i&&(0,d.ET)(i,this.getClassName("show"))}hide(){this.sendEvent("hide"),(0,d.Yw)(this._domElement,this.getClassName("show")),this.isVisible=!1;const t=(0,d.nB)(document,"body");t&&(0,d.Yw)(t,this.getClassName("show"))}clearDestination(){this._destination=(0,s.i)(),this._target=(0,s.i)()}smallScreenHandler(){x()?(0,d.Yw)(this._domElement,this.getClassName(this._options[7])):window.innerHeight<this.placementContainer.offsetHeight&&(this.sendEvent("small-screen",{innerHeight:window.innerHeight,innerWidth:window.innerWidth,containerHeight:this.placementContainer.offsetHeight}),(0,d.ET)(this._domElement,this.getClassName(this._options[7])))}}function x(){return window.innerWidth>window.innerHeight}var f=i(9102),w=i(8723),_=i(3983),k=i(2941),C=i(3312);let y;function E(t,e){(function(){var t;if(null===(t=C.r.__e2e__)||void 0===t?void 0:t.enableVignetteReport)return!0;if((0,k.tv)(y)){const t="trecs"===f.MC.config.publisher.systemFlags.loaderType?.01:1;y=Math.random()<=t}return y})()&&"show"!==e&&(0,w.mk)({event_type:"VIGNETTE",event_state:t,event_value:e?(0,_.z_)(e):"{}"})}var B=i(6196),S=i(6803),z=i(250),$=i(4846),D=i(8242);const O="#ffffff",N="#000000",L="15px",H="#000000",M="#6B6666",R="Arial",V="rgba(234, 234, 234, 0.07)",j="#000000",I="#ffffff",T="Arial",A="#313131",W=.8,F="#ffffff",U="10px",P="auto";var K,Y,q,G=i(9174),J=i(5694),X=i(7177);function Q(){return(0,X.vx)((0,B.yN)("sessionStorage","tbl-vignette"))||0}class Z{constructor(t){this._wasShown=!1,this.completeRender=()=>{const t=this._placement;t.fillInDomElements(),t.reportInDomAction();const e={vignette:this._vignetteData,container:this._domElement};(0,a.C8)("e18",e),(0,a.C8)("e19",e),(0,J.kF)("renderCompEnd","vignette-render")},this.handleClickedEl=t=>{const e=t.target;if(!e)return;if(this.isInsideVignette(e))return;const i=(0,G.k)(e);if(!i)return;if(tt("link-clicked"),this._wasShown)return void tt("missed",{missedReason:"was-shown"});const n=!!(0,G.C)(i);if(!(0,d.uv)(document,'[data-vignette-loaded="true"]')||n){if((0,c.fr)(t),!this._fullScreenComponent.isVisible&&(this._fullScreenComponent.show(i.href||"","_self"),this._fullScreenComponent.orientationHandler(),(0,b.BC)("enable-vig-show-once")&&(this._wasShown=!0),this.modifyHistory(),(0,B.zl)("sessionStorage"))){const t=Q()+1,e=this._vignetteData.frequencyCapping;e>0&&t>=e&&(this._wasShown=!0),(0,B.U1)("sessionStorage","tbl-vignette",`${t}`)}}else tt("missed",{missedReason:"google-vignette"})},this._eventListenerManager=new g.OE,this._vignetteData=t;const e=t.items[0].getItemData();var i,n;(0,$.n5)(e,"vignette item data is undefined"),this._itemData=e,this._vignetteOptions=(i=t.m,{5:(0,b.Ol)(i,"vignette-xButtonColor")||O,4:(0,b.Ol)(i,"vignette-xButtonBackgroundColor")||N,3:(0,b.Ol)(i,"vignette-xButtonSize")||L,6:"left"===(0,b.Ol)(i,"vignette-xButtonPosition")?"0":"",7:"left"===(0,b.Ol)(i,"vignette-xButtonPosition")?"":"0",10:(0,b.Ol)(i,"vignette-closeButtonBackgroundColor")||H,8:(0,b.Ol)(i,"vignette-closeButtonFontColor")||M,9:(0,b.Ol)(i,"vignette-closeButtonFontFamily")||R,11:(0,b.Ol)(i,"vignette-closeButtonHoverColor")||V,14:(0,b.Ol)(i,"vignette-openButtonBackgroundColor")||j,12:(0,b.Ol)(i,"vignette-openButtonFontColor")||I,13:(0,b.Ol)(i,"vignette-openButtonFontFamily")||T,15:(0,b.Ol)(i,"vignette-openButtonHoverColor")||A,2:(0,b.Ol)(i,"vignette-screenBackgroundOpacity")||W,1:(0,b.Ol)(i,"vignette-screenBackgroundColor")||F,16:(0,b.Ol)(i,"vignette-buttonsTopSpacing")||U,17:P}),n=this._vignetteOptions,(0,D.x)(` body.tbl-vignette-show{overflow:hidden !important}.tbl-vignette{display:block;visibility:hidden;height:100%;width:100%;top:auto !important;left:auto !important;right:-1200% !important;bottom:auto !important;clear:none !important;float:none !important;margin:0 !important;max-height:none !important;max-width:none !important;opacity:1 !important;overflow:visible !important;padding:0 !important;position:fixed !important;vertical-align:baseline !important;z-index:2147483647 !important;background:rgba(52,58,65,.6);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);font-family:Arial,Helvetica,sans-serif}.tbl-vignette .video-description{max-height:54px !important}.tbl-vignette.trc_related_container .trc_header_ext .attribution-disclosure-link-sponsored a{font-size:15px;font-weight:normal;color:#6b6666}.tbl-vignette.tbl-vignette-show .trc_related_container{right:0 !important;top:0 !important;visibility:visible}.tbl-vignette.tbl-vignette-show{right:0 !important;top:0 !important;visibility:visible}.tbl-vignette *{visibility:inherit !important}.tbl-vignette.tbl-vignette-opportunity{display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.tbl-vignette .tbl-vignette-background{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;background-color:${n[1]};opacity:${n[2]}}.tbl-vignette .tbl-vignette-background.tbl-vignette-background-image{-webkit-filter:blur(10px);-moz-filter:blur(10px);-ms-filter:blur(10px);-o-filter:blur(10px);filter:blur(10px)}.tbl-vignette .tbl-vignette-close-btn-wrp{-webkit-box-sizing:initial;-moz-box-sizing:initial;-ms-box-sizing:initial;-o-box-sizing:initial;box-sizing:initial;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;position:absolute;z-index:1;width:auto;top:0;height:${n[3]};padding:15px 10px;background:${n[4]};left:${n[6]};right:${n[7]}}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.tbl-vignette .tbl-vignette-close-btn-wrp.tbl-vignette-loader .tbl-close-btn{width:calc(${n[3]} + 10px);height:calc(${n[3]} + 10px);margin:0;border:3px solid rgba(0,0,0,0);border-top:2px solid ${n[5]};border-left:3px solid ${n[5]};border-radius:50%;animation:spin 1s linear infinite}.tbl-vignette .tbl-vignette-close-btn-wrp.tbl-vignette-loader .tbl-close-btn path{stroke:rgba(0,0,0,0)}.tbl-vignette .tbl-vignette-close-btn-wrp:focus{outline:none}.tbl-vignette .tbl-vignette-close-btn-wrp a{color:#fff;font-weight:400;font-size:14px;padding:0 10px}.tbl-vignette .tbl-vignette-close-btn-wrp a:hover{color:#fff;text-decoration:none}.tbl-vignette .tbl-vignette-close-btn-wrp svg{width:inherit;height:inherit;vertical-align:initial;margin:10px}.tbl-vignette .tbl-vignette-close-btn-wrp .tbl-close-btn path{stroke:${n[5]}}@media(min-width: 1280px){.tbl-vignette .tbl-vignette-close-btn-wrp .tbl-close-btn:hover{cursor:pointer}}.tbl-vignette .trc_rbox_container{height:100%;width:100%;display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:baseline;-webkit-align-items:baseline;-ms-flex-align:baseline;align-items:baseline}.tbl-vignette .trc_rbox_container .trc_rbox_outer{margin:0}.tbl-vignette .trc_rbox_container .trc_rbox_header .trc_header_ext .attribution-disclosure-link-sponsored{margin-bottom:5px}.tbl-vignette .trc_rbox_container .videoCube{margin:0 auto;width:100%}.tbl-vignette .trc_rbox_container .videoCube .trc-widget-footer{display:flex;margin-bottom:5px}.tbl-vignette .trc_rbox_container .videoCube .tbl-vignette-attribution{font-size:15px;color:#6b6666;display:inline-block;margin-bottom:5px;width:100%}.tbl-vignette .trc_rbox_container .videoCube .tbl-vignette-attribution:hover{cursor:default;text-decoration:none}.tbl-vignette .trc_rbox_container .trc_rbox{padding:20px;position:relative;margin-top:7vh;width:${n[17]}}.tbl-vignette .trc_rbox_container .trc_rbox_div{max-width:70vh}.tbl-vignette .tbl-vignette-btns-wrp.tbl-vignette-btns-wrp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;margin-bottom:20px;margin-top:${n[16]}}.tbl-vignette .tbl-vignette-btns-wrp.tbl-vignette-btns-wrp .tbl-vignette-btn{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:7px;-moz-border-radius:7px;-ms-border-radius:7px;-o-border-radius:7px;border-radius:7px;-webkit-box-shadow:0 2px 4px rgba(134, 140, 150, 0.65);-moz-box-shadow:0 2px 4px rgba(134, 140, 150, 0.65);-ms-box-shadow:0 2px 4px rgba(134, 140, 150, 0.65);-o-box-shadow:0 2px 4px rgba(134, 140, 150, 0.65);box-shadow:0 2px 4px rgba(134, 140, 150, 0.65);font-size:20px;font-weight:400;text-align:center;padding:2vh 4vw;border:none;cursor:pointer;width:100%;display:flex;text-transform:none !important}@media(min-width: 1280px){.tbl-vignette .tbl-vignette-btns-wrp.tbl-vignette-btns-wrp .tbl-vignette-btn{padding:1.3vh 2vw;margin-inline-start:20px;width:80%}}.tbl-vignette .tbl-vignette-btns-wrp.tbl-vignette-btns-wrp .tbl-vignette-btn[disabled]{opacity:.5;cursor:not-allowed}.tbl-vignette .tbl-vignette-btns-wrp.tbl-vignette-btns-wrp .tbl-vignette-btn.tbl-vignette-btn-open{background-color:${n[14]};color:${n[12]};font-family:${n[13]}}.tbl-vignette .tbl-vignette-btns-wrp.tbl-vignette-btns-wrp .tbl-vignette-btn.tbl-vignette-btn-close{background-color:${n[10]};color:${n[8]};font-family:${n[9]}}@media(min-width: 1280px){.tbl-vignette .tbl-vignette-btns-wrp.tbl-vignette-btns-wrp .tbl-vignette-btn.tbl-vignette-btn-open:hover{background:${n[15]}}.tbl-vignette .tbl-vignette-btns-wrp.tbl-vignette-btns-wrp .tbl-vignette-btn.tbl-vignette-btn-close:hover{background:${n[11]}}}@media(min-width: 1280px){.tbl-vignette .tbl-vignette-btns-wrp.tbl-vignette-btns-wrp .tbl-vignette-btn:hover{-webkit-box-shadow:0 1px 2px rgba(134, 140, 150, 0.65);-moz-box-shadow:0 1px 2px rgba(134, 140, 150, 0.65);-ms-box-shadow:0 1px 2px rgba(134, 140, 150, 0.65);-o-box-shadow:0 1px 2px rgba(134, 140, 150, 0.65);box-shadow:0 1px 2px rgba(134, 140, 150, 0.65)}}.tbl-vignette.tbl-vignette-floating{width:auto;margin:10px !important;box-sizing:border-box;box-shadow:0 8px 16px 6px rgba(60,64,67,.15),0 2px 6px 0 rgba(60,64,67,.3);border-radius:10px;height:98% !important}.tbl-vignette.tbl-vignette-floating .tbl-vignette-background{border-radius:10px}.tbl-vignette.tbl-vignette-floating .tbl-vignette-background.tbl-vignette-background-image{border-radius:10px}.tbl-vignette.tbl-vignette-landscape .trc_rbox_div{max-width:100%}.tbl-vignette.tbl-vignette-landscape .trc_rbox_div .videoCube{display:flex}.tbl-vignette.tbl-vignette-landscape .trc_rbox_div .videoCube .item-thumbnail-href{flex:1;margin-right:10px}.tbl-vignette.tbl-vignette-landscape .trc_rbox_div .videoCube .item-label-href{flex:1}.tbl-vignette.tbl-vignette-small-screen-hide-description .video-description{display:none !important}.tbl-vignette.tbl-vignette-small-screen-short-description .video-description{max-height:27px !important}.tbl-vignette.tbl-vignette-small-screen-one-row .video-title{max-height:36px !important}.tbl-vignette.tbl-vignette-small-screen-one-row .video-description{max-height:27px !important}.tbl-vignette.tbl-vignette-small-screen-thumb-size .videoCube_aspect{padding-bottom:90% !important}`,"vignetteUiCss");const o=function(t){return{1:"tbl-vignette",2:t,3:t.placement.uip,4:"section",5:(0,b.BC)("vignette-floating-ui"),6:E,7:(0,b.w$)("vig-small-screen-cls-sfx")}}(this._itemData);this._fullScreenComponent=new u(o),tt("script-loaded");const s=this._domElement=this._fullScreenComponent.placementContainer;f.fg.appendEntityCustomData({entity:t,element:s}),this._placement=new r.W(t,s),this.handlePageAnchors(),this.updateItemEntityCustomData(),this._placement.render().then((()=>{(0,a.C8)("e17",{container:s,vignette:t}),(0,S.D)(this.completeRender)}))}cleanUp(){this._eventListenerManager.removeAll(),this._placement.cleanUp(),this._placement=(0,s.i)(),this._domElement=(0,s.i)(),this._fullScreenComponent.cleanUp(),this._fullScreenComponent=(0,s.i)(),this._itemData=(0,s.i)(),this._vignetteData=(0,s.i)(),this._vignetteOptions=(0,s.i)()}updateItemEntityCustomData(){const t=f.MC.getEntityCustomData(this._itemData),e={entity:(null==t?void 0:t.itemData)||this._itemData,element:(null==t?void 0:t.domElement)||this._domElement,ctaOptions:{1:!0,2:"tbl-vignette-btns-wrp",3:"tbl-vignette-btn",4:"tbl-vignette-btn-open"}};f.fg.appendEntityCustomData(e)}handlePageAnchors(){const t=(0,d.nB)(document,"html");if(!t)return;const e=(0,b.BC)("vignette-capture-page-click");this._eventListenerManager.add(t,"click",this.handleClickedEl,e)}modifyHistory(){const t=(0,z.A)();et(t)&&t.replaceState({}),t.pushState({_owner_:3,content:{showVignette:!0}}),t.on("state-changed",(()=>{et(t)?this._fullScreenComponent.show():this._fullScreenComponent.hide()}))}isInsideVignette(t){return this._domElement.contains(t)}}function tt(t,e){E(t,e)}function et(t){return t.isState(3,["showVignette"])}let it;const nt="vignette-render";class ot extends o.k{constructor(){super(...arguments),this[K]=()=>{this.createVignette()},this[Y]=()=>{this.createVignette()},this[q]=()=>{it&&(it.cleanUp(),it=void 0)}}getName(){return nt}getSupportedFeatures(){return["vignette-render"]}createVignette(){if(it)return;const t=this.b.responseSummary.vignette;if(!t||!function(t){var e;const i=(0,p.KP)("iframe");if(!(0,b.BC)("enable-vig-inside-iframe")&&i)return st("skip-vignette",{missedReason:"in-iframe"}),!1;const n=null===(e=t.items[0])||void 0===e?void 0:e.getItemData();if(!n)return!1;if((0,$.n5)(t,"vignetteResponseSummary is undefined"),!n.isSponsored)return st("skip-vignette",{missedReason:"organic content"}),!1;if((0,B.zl)("sessionStorage")){const e=Q();if(t.frequencyCapping>0&&e>=t.frequencyCapping)return st("skip-vignette",{missedReason:"already have been displayed on session",displayInSession:e}),!1}else if(st("session-storage-unsupported"),!t.showDespiteStorageIssue)return st("skip-vignette",{missedReason:"supportSessionStorage is false and showDespiteStorageIssue is false"}),!1;const o=f.MC.optionsSummary.framework;return!o||(st("skip-vignette",{missedReason:"framework",details:o}),!1)}(t))return;const e=[];this.j(t,e),this.f(e),it=new Z(t)}isMS3(){return!0}}function st(t,e){E(t,e)}K="n",Y="h",q="k",(0,n.tx)(new ot),(0,n.Xl)(nt,ot)}},function(t){t(t.s=1078)}]);